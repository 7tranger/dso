# ADR-003: Политики исходящих HTTP-запросов (таймауты/ретраи/лимиты)

## Status
Accepted

## Context
Исходящие HTTP-вызовы без таймаутов и повторов могут зависать, занимая воркеры и ухудшая доступность сервиса.

## Decision
- Использовать клиент с разумными значениями по умолчанию: таймауты подключения/чтения и ограничение времени запроса.
- Внедрить явную конфигурацию политик на уровне клиента (в коде предусмотрен модуль для централизованного использования).
- Ретраи на идемпотентные операции с экспоненциальной задержкой (за пределами текущего минимального примера — задел интерфейса/конфигурации).

## Consequences
- Предотвращаются «зависшие» запросы, повышается предсказуемость SLA.

## Links
- NFR: `NFR-004` (Доступность системы)
- P04: `F#-Client-Policies`, `R#-Timeouts-Retries`
- Tests: (см. smoke-тесты на интеграцию клиента; при расширении фич добавить unit-тесты политик)
- RISKS: Снижает влияние `R003` (отказ из-за переполнения/зависаний) косвенно. Критерий: все исходящие вызовы имеют явные таймауты; нагрузочные тесты не показывают «зависшие» воркеры.
